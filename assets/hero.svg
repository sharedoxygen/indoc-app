<!--
  inDoc Hero Animation (CC0 / Public Domain)
  Shows the complete flow: Legacy Documents → Hybrid Search → AI Conversation → Cited Answer
-->
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="400" viewBox="0 0 1200 400">
  <defs>
    <!-- Gradients -->
    <linearGradient id="bgGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0a0e27"/>
      <stop offset="100%" stop-color="#1a1f3a"/>
    </linearGradient>
    <linearGradient id="docGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#2196f3"/>
      <stop offset="100%" stop-color="#1565c0"/>
    </linearGradient>
    <linearGradient id="searchGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#00897b"/>
      <stop offset="100%" stop-color="#00695c"/>
    </linearGradient>
    <linearGradient id="aiGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#7b1fa2"/>
      <stop offset="100%" stop-color="#4a148c"/>
    </linearGradient>
    <linearGradient id="answerGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#f57c00"/>
      <stop offset="100%" stop-color="#e65100"/>
    </linearGradient>
    
    <!-- Glow effects -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="400" fill="url(#bgGrad)"/>
  
  <!-- Grid pattern background -->
  <defs>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#2c3e50" stroke-width="0.5" opacity="0.1"/>
    </pattern>
  </defs>
  <rect width="1200" height="400" fill="url(#grid)"/>

  <!-- Stage 1: Document Archive (Left) -->
  <g transform="translate(60, 80)">
    <text x="80" y="-20" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#64b5f6">LEGACY ARCHIVE</text>
    
    <!-- Stack of documents with different ages -->
    <g filter="url(#shadow)">
      <!-- Old document (1950s) -->
      <rect x="10" y="10" width="140" height="180" rx="8" fill="#1e3a5f" stroke="url(#docGrad)" stroke-width="2" opacity="0.7">
        <animate attributeName="opacity" values="0.7;0.85;0.7" dur="4s" repeatCount="indefinite"/>
      </rect>
      <text x="80" y="40" text-anchor="middle" font-family="monospace" font-size="10" fill="#90caf9">1952</text>
      <rect x="25" y="55" width="110" height="4" rx="2" fill="#64b5f6" opacity="0.3"/>
      <rect x="25" y="65" width="90" height="4" rx="2" fill="#64b5f6" opacity="0.3"/>
      <rect x="25" y="75" width="100" height="4" rx="2" fill="#64b5f6" opacity="0.3"/>
      
      <!-- Mid document (1990s) -->
      <rect x="30" y="30" width="140" height="180" rx="8" fill="#1e3a5f" stroke="url(#docGrad)" stroke-width="2" opacity="0.8">
        <animate attributeName="opacity" values="0.8;0.95;0.8" dur="4.5s" repeatCount="indefinite"/>
      </rect>
      <text x="100" y="60" text-anchor="middle" font-family="monospace" font-size="10" fill="#90caf9">1998</text>
      <rect x="45" y="75" width="110" height="4" rx="2" fill="#64b5f6" opacity="0.4"/>
      <rect x="45" y="85" width="85" height="4" rx="2" fill="#64b5f6" opacity="0.4"/>
      
      <!-- Modern document (2024) -->
      <rect x="50" y="50" width="140" height="180" rx="8" fill="#0d1b2a" stroke="url(#docGrad)" stroke-width="2.5">
        <animate attributeName="y" values="50;48;50" dur="3s" repeatCount="indefinite"/>
      </rect>
      <text x="120" y="80" text-anchor="middle" font-family="monospace" font-size="11" fill="#42a5f5" font-weight="600">2024</text>
      <rect x="65" y="95" width="110" height="5" rx="2.5" fill="#1976d2" opacity="0.6"/>
      <rect x="65" y="106" width="90" height="5" rx="2.5" fill="#1976d2" opacity="0.6"/>
      <rect x="65" y="117" width="105" height="5" rx="2.5" fill="#1976d2" opacity="0.6"/>
      <rect x="65" y="128" width="80" height="5" rx="2.5" fill="#1976d2" opacity="0.6"/>
    </g>
    
    <!-- Document type indicators -->
    <g transform="translate(55, 200)">
      <circle cx="15" cy="40" r="6" fill="#42a5f5" opacity="0.5"/>
      <text x="28" y="44" font-size="9" fill="#90caf9">PDF</text>
      <circle cx="65" cy="40" r="6" fill="#42a5f5" opacity="0.5"/>
      <text x="78" y="44" font-size="9" fill="#90caf9">DOCX</text>
      <circle cx="125" cy="40" r="6" fill="#42a5f5" opacity="0.5"/>
      <text x="138" y="44" font-size="9" fill="#90caf9">IMG</text>
    </g>
  </g>

  <!-- Data flow particles (animated) -->
  <circle r="3" fill="#42a5f5" filter="url(#glow)">
    <animateMotion path="M 240 140 Q 340 120, 440 150" dur="5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#42a5f5" filter="url(#glow)">
    <animateMotion path="M 240 140 Q 340 120, 440 150" dur="5s" repeatCount="indefinite" begin="1s"/>
    <animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="1s"/>
  </circle>
  <circle r="3" fill="#42a5f5" filter="url(#glow)">
    <animateMotion path="M 240 140 Q 340 120, 440 150" dur="5s" repeatCount="indefinite" begin="2s"/>
    <animate attributeName="opacity" values="0;1;0" dur="5s" repeatCount="indefinite" begin="2s"/>
  </circle>

  <!-- Stage 2: Hybrid Search Engine (Center) -->
  <g transform="translate(340, 40)">
    <text x="130" y="-5" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#4db6ac" text-anchor="middle">HYBRID SEARCH</text>
    
    <!-- Elasticsearch (Keyword) -->
    <g transform="translate(0, 20)" filter="url(#shadow)">
      <rect width="120" height="100" rx="8" fill="#0d1b2a" stroke="url(#searchGrad)" stroke-width="2"/>
      <text x="60" y="25" text-anchor="middle" font-size="11" font-weight="600" fill="#26a69a">Elasticsearch</text>
      <text x="60" y="40" text-anchor="middle" font-size="9" fill="#4db6ac" opacity="0.7">Keyword BM25</text>
      
      <!-- Animated search bars -->
      <rect x="15" y="55" width="90" height="6" rx="3" fill="#00897b" opacity="0.4">
        <animate attributeName="width" values="90;70;90" dur="3s" repeatCount="indefinite"/>
      </rect>
      <rect x="15" y="67" width="70" height="6" rx="3" fill="#00897b" opacity="0.4">
        <animate attributeName="width" values="70;85;70" dur="3.5s" repeatCount="indefinite"/>
      </rect>
      <rect x="15" y="79" width="80" height="6" rx="3" fill="#00897b" opacity="0.4">
        <animate attributeName="width" values="80;60;80" dur="4s" repeatCount="indefinite"/>
      </rect>
    </g>
    
    <!-- Qdrant (Semantic) -->
    <g transform="translate(140, 20)" filter="url(#shadow)">
      <rect width="120" height="100" rx="8" fill="#0d1b2a" stroke="url(#searchGrad)" stroke-width="2"/>
      <text x="60" y="25" text-anchor="middle" font-size="11" font-weight="600" fill="#26a69a">Qdrant</text>
      <text x="60" y="40" text-anchor="middle" font-size="9" fill="#4db6ac" opacity="0.7">Vector Semantic</text>
      
      <!-- Animated vector visualization -->
      <g transform="translate(60, 70)">
        <circle r="20" fill="none" stroke="#00897b" stroke-width="1.5" opacity="0.3">
          <animate attributeName="r" values="20;25;20" dur="3s" repeatCount="indefinite"/>
        </circle>
        <circle r="3" fill="#4db6ac">
          <animate attributeName="cx" values="0;8;-8;0" dur="4s" repeatCount="indefinite"/>
          <animate attributeName="cy" values="0;-8;8;0" dur="4s" repeatCount="indefinite"/>
        </circle>
        <circle r="2" fill="#26a69a" opacity="0.6">
          <animate attributeName="cx" values="0;-6;6;0" dur="3.5s" repeatCount="indefinite"/>
          <animate attributeName="cy" values="0;6;-6;0" dur="3.5s" repeatCount="indefinite"/>
        </circle>
      </g>
    </g>
    
    <!-- Merge indicator -->
    <g transform="translate(130, 140)">
      <circle cx="0" cy="0" r="18" fill="#00897b" opacity="0.2" filter="url(#glow)">
        <animate attributeName="r" values="18;22;18" dur="2s" repeatCount="indefinite"/>
      </circle>
      <text x="0" y="5" text-anchor="middle" font-size="14" font-weight="bold" fill="#4db6ac">⊕</text>
      <text x="0" y="30" text-anchor="middle" font-size="8" fill="#4db6ac" opacity="0.7">MERGE & RERANK</text>
    </g>
  </g>

  <!-- Data flow to AI -->
  <circle r="3" fill="#7b1fa2" filter="url(#glow)">
    <animateMotion path="M 600 150 Q 680 140, 760 160" dur="4s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#7b1fa2" filter="url(#glow)">
    <animateMotion path="M 600 150 Q 680 140, 760 160" dur="4s" repeatCount="indefinite" begin="0.8s"/>
    <animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite" begin="0.8s"/>
  </circle>

  <!-- Stage 3: AI Processing (Right Center) -->
  <g transform="translate(660, 60)">
    <text x="110" y="-15" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#ba68c8" text-anchor="middle">AI REASONING (MCP)</text>
    
    <g filter="url(#shadow)">
      <rect width="220" height="160" rx="12" fill="#0d1b2a" stroke="url(#aiGrad)" stroke-width="2.5"/>
      
      <!-- Brain icon -->
      <g transform="translate(110, 40)">
        <circle r="28" fill="none" stroke="#ab47bc" stroke-width="2" opacity="0.3">
          <animate attributeName="r" values="28;32;28" dur="3s" repeatCount="indefinite"/>
          <animate attributeName="opacity" values="0.3;0.5;0.3" dur="3s" repeatCount="indefinite"/>
        </circle>
        <path d="M -12,-8 Q -15,-15 -8,-18 Q 0,-20 8,-18 Q 15,-15 12,-8 Q 10,0 12,8 Q 15,15 8,18 Q 0,20 -8,18 Q -15,15 -12,8 Q -10,0 -12,-8" 
              fill="none" stroke="#ba68c8" stroke-width="2.5"/>
        <circle cx="-6" cy="-4" r="2" fill="#ce93d8"/>
        <circle cx="6" cy="-4" r="2" fill="#ce93d8"/>
        <path d="M -8,4 Q 0,8 8,4" stroke="#ba68c8" stroke-width="2" fill="none"/>
      </g>
      
      <!-- Processing steps -->
      <g transform="translate(15, 85)">
        <rect y="0" width="60" height="3" rx="1.5" fill="#7b1fa2" opacity="0.5">
          <animate attributeName="width" values="60;190;60" dur="6s" repeatCount="indefinite"/>
        </rect>
        <rect y="12" width="80" height="3" rx="1.5" fill="#9c27b0" opacity="0.5">
          <animate attributeName="width" values="80;150;80" dur="5.5s" repeatCount="indefinite" begin="0.5s"/>
        </rect>
        <rect y="24" width="50" height="3" rx="1.5" fill="#ab47bc" opacity="0.5">
          <animate attributeName="width" values="50;170;50" dur="5s" repeatCount="indefinite" begin="1s"/>
        </rect>
      </g>
      
      <!-- Model labels -->
      <text x="110" y="130" text-anchor="middle" font-size="10" fill="#ce93d8" opacity="0.6">Ollama • GPT-4 • Claude</text>
      <text x="110" y="145" text-anchor="middle" font-size="8" fill="#ba68c8" opacity="0.5">Min 3 Citations Required</text>
    </g>
  </g>

  <!-- Data flow to answer -->
  <circle r="3" fill="#ff9800" filter="url(#glow)">
    <animateMotion path="M 900 160 Q 980 150, 1060 170" dur="4s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#ff9800" filter="url(#glow)">
    <animateMotion path="M 900 160 Q 980 150, 1060 170" dur="4s" repeatCount="indefinite" begin="1s"/>
    <animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite" begin="1s"/>
  </circle>

  <!-- Stage 4: Grounded Answer (Right) -->
  <g transform="translate(960, 70)">
    <text x="100" y="-25" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#ffb74d" text-anchor="middle">CITED ANSWER</text>
    
    <g filter="url(#shadow)">
      <rect width="200" height="180" rx="12" fill="#0d1b2a" stroke="url(#answerGrad)" stroke-width="2.5"/>
      
      <!-- Answer text lines with typing effect -->
      <rect x="20" y="25" width="0" height="6" rx="3" fill="#ffb74d">
        <animate attributeName="width" values="0;160;160" dur="2s" fill="freeze"/>
      </rect>
      <rect x="20" y="38" width="0" height="6" rx="3" fill="#ffb74d">
        <animate attributeName="width" values="0;140;140" dur="2s" begin="0.3s" fill="freeze"/>
      </rect>
      <rect x="20" y="51" width="0" height="6" rx="3" fill="#ffb74d">
        <animate attributeName="width" values="0;155;155" dur="2s" begin="0.6s" fill="freeze"/>
      </rect>
      
      <!-- Citation badges -->
      <g transform="translate(20, 80)">
        <text x="0" y="0" font-size="9" font-weight="600" fill="#ff9800" opacity="0.7">Citations:</text>
        <g transform="translate(0, 12)">
          <rect width="50" height="16" rx="8" fill="#e65100" opacity="0.3"/>
          <text x="25" y="11" text-anchor="middle" font-size="8" fill="#ffb74d">[Doc 1]</text>
        </g>
        <g transform="translate(58, 12)">
          <rect width="50" height="16" rx="8" fill="#e65100" opacity="0.3"/>
          <text x="25" y="11" text-anchor="middle" font-size="8" fill="#ffb74d">[Doc 2]</text>
        </g>
        <g transform="translate(116, 12)">
          <rect width="50" height="16" rx="8" fill="#e65100" opacity="0.3"/>
          <text x="25" y="11" text-anchor="middle" font-size="8" fill="#ffb74d">[Doc 3]</text>
        </g>
      </g>
      
      <!-- Verification checkmark -->
      <g transform="translate(80, 125)">
        <circle r="18" fill="#1b5e20" opacity="0.3">
          <animate attributeName="r" values="0;18" dur="1s" begin="2s" fill="freeze"/>
        </circle>
        <path d="M -6,0 L -2,6 L 8,-6" stroke="#4caf50" stroke-width="3" fill="none" stroke-linecap="round" opacity="0">
          <animate attributeName="opacity" values="0;1" dur="0.5s" begin="2.5s" fill="freeze"/>
        </path>
        <text x="0" y="32" text-anchor="middle" font-size="8" fill="#66bb6a" opacity="0">
          <animate attributeName="opacity" values="0;1" dur="0.5s" begin="2.5s" fill="freeze"/>
          VERIFIED
        </text>
      </g>
    </g>
  </g>

  <!-- Bottom caption with tech stack -->
  <g transform="translate(0, 340)">
    <text x="600" y="0" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="300" fill="#cbd5e1">
      Legacy Documents → Hybrid Search (ES + Qdrant) → AI Reasoning (MCP) → Verified Answers
    </text>
    <text x="600" y="25" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#94a3b8" opacity="0.7">
      Zero hallucinations • Always cited • Runs on your infrastructure
    </text>
  </g>
  
  <!-- Floating background elements for depth -->
  <g opacity="0.06">
    <circle cx="850" cy="50" r="40" fill="#42a5f5">
      <animate attributeName="cy" values="50;40;50" dur="8s" repeatCount="indefinite"/>
    </circle>
    <circle cx="200" cy="320" r="30" fill="#ab47bc">
      <animate attributeName="cy" values="320;330;320" dur="7s" repeatCount="indefinite"/>
    </circle>
    <circle cx="1100" cy="280" r="25" fill="#26a69a">
      <animate attributeName="cy" values="280;270;280" dur="6s" repeatCount="indefinite"/>
    </circle>
  </g>
</svg>
